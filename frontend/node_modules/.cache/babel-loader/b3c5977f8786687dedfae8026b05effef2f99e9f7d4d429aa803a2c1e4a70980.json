{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\soura\\\\Projects\\\\LearnHub\\\\frontend\\\\src\\\\pages\\\\CourseDetails.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport api from '../lib/api';\nimport { useAuth } from '../context/AuthContext';\nimport LoadingScreen from '../components/common/LoadingScreen';\nimport { AcademicCapIcon, ClockIcon, UserIcon, CalendarIcon, CheckCircleIcon, BookOpenIcon, LockClosedIcon } from '@heroicons/react/24/outline';\nimport { StarIcon } from '@heroicons/react/24/solid';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseDetails = () => {\n  _s();\n  const {\n    courseId\n  } = useParams();\n  const {\n    isAuthenticated,\n    profile\n  } = useAuth();\n  const navigate = useNavigate();\n  const [enrolling, setEnrolling] = useState(false);\n\n  // Fetch course details\n  const {\n    data: courseData,\n    isLoading: isLoadingCourse,\n    error: courseError\n  } = useQuery(['course', courseId], async () => {\n    const response = await api.get(`/courses/${courseId}`);\n    return response.data;\n  });\n\n  // Fetch course sections and lessons\n  const {\n    data: sectionsData,\n    isLoading: isLoadingSections\n  } = useQuery(['course-sections', courseId], async () => {\n    const response = await api.get(`/courses/${courseId}/sections`);\n    return response.data;\n  }, {\n    enabled: !!courseId\n  });\n\n  // Check if user is enrolled\n  const {\n    data: enrollmentData,\n    isLoading: isLoadingEnrollment\n  } = useQuery(['enrollment', courseId], async () => {\n    if (!isAuthenticated) return {\n      enrolled: false\n    };\n    try {\n      const response = await api.get('/enrollments');\n      const enrollments = response.data.data;\n      const isEnrolled = enrollments.some(e => e.course_id === courseId);\n      return {\n        enrolled: isEnrolled\n      };\n    } catch (error) {\n      console.error('Error checking enrollment:', error);\n      return {\n        enrolled: false\n      };\n    }\n  }, {\n    enabled: isAuthenticated\n  });\n  const isLoading = isLoadingCourse || isLoadingSections || isLoadingEnrollment;\n  const course = courseData === null || courseData === void 0 ? void 0 : courseData.data;\n  const sections = (sectionsData === null || sectionsData === void 0 ? void 0 : sectionsData.data) || [];\n  const isEnrolled = enrollmentData === null || enrollmentData === void 0 ? void 0 : enrollmentData.enrolled;\n  const isInstructor = (course === null || course === void 0 ? void 0 : course.instructor_id) === (profile === null || profile === void 0 ? void 0 : profile.id);\n  const handleEnroll = async () => {\n    if (!isAuthenticated) {\n      navigate('/login', {\n        state: {\n          from: `/courses/${courseId}`\n        }\n      });\n      return;\n    }\n    setEnrolling(true);\n    try {\n      await api.post('/enrollments', {\n        course_id: courseId\n      });\n      toast.success('Successfully enrolled in course!');\n      // Refetch enrollment data\n      navigate(`/dashboard/courses/${courseId}`);\n    } catch (error) {\n      console.error('Enrollment error:', error);\n      toast.error('Failed to enroll in course. Please try again.');\n    } finally {\n      setEnrolling(false);\n    }\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 25\n  }, this);\n  if (courseError || !course) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto py-12 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-surface-900 dark:text-white mb-4\",\n          children: \"Course Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-surface-600 dark:text-surface-400 mb-6\",\n          children: \"The course you're looking for doesn't exist or has been removed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/courses\",\n          className: \"inline-flex items-center btn-filled\",\n          children: \"Browse Courses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Get difficulty level badge color\n  const getDifficultyColor = level => {\n    switch (level) {\n      case 'beginner':\n        return 'bg-success-100 text-success-800 dark:bg-success-900/50 dark:text-success-300';\n      case 'intermediate':\n        return 'bg-warning-100 text-warning-800 dark:bg-warning-900/50 dark:text-warning-300';\n      case 'advanced':\n        return 'bg-error-100 text-error-800 dark:bg-error-900/50 dark:text-error-300';\n      default:\n        return 'bg-surface-100 text-surface-800 dark:bg-surface-800 dark:text-surface-300';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto py-8 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-surface-900 dark:text-white mb-4\",\n          children: course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-3 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getDifficultyColor(course.difficulty_level)}`,\n            children: course.difficulty_level.charAt(0).toUpperCase() + course.difficulty_level.slice(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(StarIcon, {\n              className: \"h-5 w-5 text-yellow-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-1 text-sm text-surface-700 dark:text-surface-300\",\n              children: \"4.5 (120 reviews)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n              className: \"h-5 w-5 text-surface-500 dark:text-surface-400 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-surface-700 dark:text-surface-300\",\n              children: course.instructor ? `${course.instructor.first_name} ${course.instructor.last_name}` : 'Instructor'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n              className: \"h-5 w-5 text-surface-500 dark:text-surface-400 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-surface-700 dark:text-surface-300\",\n              children: [\"Updated \", new Date(course.updated_at).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), course.cover_image_url && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 rounded-lg overflow-hidden shadow-md dark:shadow-dark-md\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: course.cover_image_url,\n            alt: course.title,\n            className: \"w-full h-auto object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-surface-900 dark:text-white mb-4\",\n            children: \"About This Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-surface-700 dark:text-surface-300 whitespace-pre-line\",\n            children: course.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-surface-900 dark:text-white mb-4\",\n            children: \"Course Curriculum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), sections.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-surface-200 dark:border-surface-700 rounded-lg overflow-hidden divide-y divide-surface-200 dark:divide-surface-700\",\n            children: sections.map(section => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white dark:bg-surface-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-surface-50 dark:bg-surface-850 font-medium text-surface-900 dark:text-white\",\n                children: section.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"divide-y divide-surface-200 dark:divide-surface-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [isEnrolled ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                      className: \"h-5 w-5 text-success-500 dark:text-success-400 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(LockClosedIcon, {\n                      className: \"h-5 w-5 text-surface-400 dark:text-surface-500 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-surface-700 dark:text-surface-300\",\n                      children: \"Introduction to the Course\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-surface-500 dark:text-surface-400\",\n                    children: \"10 min\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n                      className: \"h-5 w-5 text-primary-500 dark:text-primary-400 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-surface-700 dark:text-surface-300\",\n                      children: \"Getting Started (Preview)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-surface-500 dark:text-surface-400\",\n                    children: \"15 min\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [isEnrolled ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                      className: \"h-5 w-5 text-success-500 dark:text-success-400 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(LockClosedIcon, {\n                      className: \"h-5 w-5 text-surface-400 dark:text-surface-500 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-surface-700 dark:text-surface-300\",\n                      children: \"Core Concepts\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-surface-500 dark:text-surface-400\",\n                    children: \"25 min\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)]\n            }, section.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-surface-600 dark:text-surface-400\",\n            children: \"This course doesn't have any sections yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-24 card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: course.price ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl font-bold text-surface-900 dark:text-white\",\n              children: [\"$\", course.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl font-bold text-success-600 dark:text-success-400\",\n              children: \"Free\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), isEnrolled ? /*#__PURE__*/_jsxDEV(Link, {\n            to: `/dashboard/courses/${course.id}`,\n            className: \"w-full mb-4 btn-filled\",\n            children: \"Continue Learning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this) : isInstructor ? /*#__PURE__*/_jsxDEV(Link, {\n            to: `/instructor/courses/${course.id}/edit`,\n            className: \"w-full mb-4 btn-filled\",\n            children: \"Edit Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEnroll,\n            disabled: enrolling,\n            className: \"w-full mb-4 btn-filled disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: enrolling ? 'Enrolling...' : 'Enroll Now'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-4 text-surface-700 dark:text-surface-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                className: \"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"font-medium\",\n                  children: \"Instructor:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this), \" \", ' ', course.instructor ? `${course.instructor.first_name} ${course.instructor.last_name}` : 'Instructor']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                className: \"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"font-medium\",\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), \" \", ' ', course.duration_weeks ? `${course.duration_weeks} weeks` : 'Self-paced']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n                className: \"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"font-medium\",\n                  children: \"Lessons:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), \" \", ' ', \"12 lessons\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                className: \"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"font-medium\",\n                  children: \"Level:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this), \" \", ' ', course.difficulty_level.charAt(0).toUpperCase() + course.difficulty_level.slice(1)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseDetails, \"F0gUhBH/4kQLvYbZJQV+OC5/RYs=\", false, function () {\n  return [useParams, useAuth, useNavigate, useQuery, useQuery, useQuery];\n});\n_c = CourseDetails;\nexport default CourseDetails;\nvar _c;\n$RefreshReg$(_c, \"CourseDetails\");","map":{"version":3,"names":["useState","useParams","Link","useNavigate","useQuery","api","useAuth","LoadingScreen","AcademicCapIcon","ClockIcon","UserIcon","CalendarIcon","CheckCircleIcon","BookOpenIcon","LockClosedIcon","StarIcon","toast","jsxDEV","_jsxDEV","CourseDetails","_s","courseId","isAuthenticated","profile","navigate","enrolling","setEnrolling","data","courseData","isLoading","isLoadingCourse","error","courseError","response","get","sectionsData","isLoadingSections","enabled","enrollmentData","isLoadingEnrollment","enrolled","enrollments","isEnrolled","some","e","course_id","console","course","sections","isInstructor","instructor_id","id","handleEnroll","state","from","post","success","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","getDifficultyColor","level","title","difficulty_level","charAt","toUpperCase","slice","instructor","first_name","last_name","Date","updated_at","toLocaleDateString","cover_image_url","src","alt","description","length","map","section","price","onClick","disabled","duration_weeks","_c","$RefreshReg$"],"sources":["C:/Users/soura/Projects/LearnHub/frontend/src/pages/CourseDetails.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport api from '../lib/api';\r\nimport { Course, Section } from '../types';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport LoadingScreen from '../components/common/LoadingScreen';\r\nimport {\r\n  AcademicCapIcon,\r\n  ClockIcon,\r\n  UserIcon,\r\n  CalendarIcon,\r\n  CheckCircleIcon,\r\n  BookOpenIcon,\r\n  LockClosedIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { StarIcon } from '@heroicons/react/24/solid';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst CourseDetails = () => {\r\n  const { courseId } = useParams<{ courseId: string }>();\r\n  const { isAuthenticated, profile } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [enrolling, setEnrolling] = useState(false);\r\n\r\n  // Fetch course details\r\n  const { data: courseData, isLoading: isLoadingCourse, error: courseError } = useQuery(\r\n    ['course', courseId],\r\n    async () => {\r\n      const response = await api.get(`/courses/${courseId}`);\r\n      return response.data;\r\n    }\r\n  );\r\n\r\n  // Fetch course sections and lessons\r\n  const { data: sectionsData, isLoading: isLoadingSections } = useQuery(\r\n    ['course-sections', courseId],\r\n    async () => {\r\n      const response = await api.get(`/courses/${courseId}/sections`);\r\n      return response.data;\r\n    },\r\n    {\r\n      enabled: !!courseId\r\n    }\r\n  );\r\n\r\n  // Check if user is enrolled\r\n  const { data: enrollmentData, isLoading: isLoadingEnrollment } = useQuery(\r\n    ['enrollment', courseId],\r\n    async () => {\r\n      if (!isAuthenticated) return { enrolled: false };\r\n      \r\n      try {\r\n        const response = await api.get('/enrollments');\r\n        const enrollments = response.data.data;\r\n        const isEnrolled = enrollments.some((e: any) => e.course_id === courseId);\r\n        return { enrolled: isEnrolled };\r\n      } catch (error) {\r\n        console.error('Error checking enrollment:', error);\r\n        return { enrolled: false };\r\n      }\r\n    },\r\n    {\r\n      enabled: isAuthenticated\r\n    }\r\n  );\r\n\r\n  const isLoading = isLoadingCourse || isLoadingSections || isLoadingEnrollment;\r\n  const course: Course = courseData?.data;\r\n  const sections: Section[] = sectionsData?.data || [];\r\n  const isEnrolled = enrollmentData?.enrolled;\r\n  const isInstructor = course?.instructor_id === profile?.id;\r\n\r\n  const handleEnroll = async () => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login', { state: { from: `/courses/${courseId}` } });\r\n      return;\r\n    }\r\n\r\n    setEnrolling(true);\r\n    try {\r\n      await api.post('/enrollments', { course_id: courseId });\r\n      toast.success('Successfully enrolled in course!');\r\n      // Refetch enrollment data\r\n      navigate(`/dashboard/courses/${courseId}`);\r\n    } catch (error) {\r\n      console.error('Enrollment error:', error);\r\n      toast.error('Failed to enroll in course. Please try again.');\r\n    } finally {\r\n      setEnrolling(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <LoadingScreen />;\r\n\r\n  if (courseError || !course) {\r\n    return (\r\n      <div className=\"container mx-auto py-12 px-4\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-surface-900 dark:text-white mb-4\">\r\n            Course Not Found\r\n          </h2>\r\n          <p className=\"text-surface-600 dark:text-surface-400 mb-6\">\r\n            The course you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <Link\r\n            to=\"/courses\"\r\n            className=\"inline-flex items-center btn-filled\"\r\n          >\r\n            Browse Courses\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Get difficulty level badge color\r\n  const getDifficultyColor = (level: string) => {\r\n    switch (level) {\r\n      case 'beginner':\r\n        return 'bg-success-100 text-success-800 dark:bg-success-900/50 dark:text-success-300';\r\n      case 'intermediate':\r\n        return 'bg-warning-100 text-warning-800 dark:bg-warning-900/50 dark:text-warning-300';\r\n      case 'advanced':\r\n        return 'bg-error-100 text-error-800 dark:bg-error-900/50 dark:text-error-300';\r\n      default:\r\n        return 'bg-surface-100 text-surface-800 dark:bg-surface-800 dark:text-surface-300';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-8 px-4\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n        {/* Course main content */}\r\n        <div className=\"lg:col-span-2\">\r\n          <h1 className=\"text-3xl font-bold text-surface-900 dark:text-white mb-4\">\r\n            {course.title}\r\n          </h1>\r\n          \r\n          <div className=\"flex flex-wrap items-center gap-3 mb-6\">\r\n            <span\r\n              className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getDifficultyColor(\r\n                course.difficulty_level\r\n              )}`}\r\n            >\r\n              {course.difficulty_level.charAt(0).toUpperCase() +\r\n                course.difficulty_level.slice(1)}\r\n            </span>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <StarIcon className=\"h-5 w-5 text-yellow-400\" />\r\n              <span className=\"ml-1 text-sm text-surface-700 dark:text-surface-300\">4.5 (120 reviews)</span>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <UserIcon className=\"h-5 w-5 text-surface-500 dark:text-surface-400 mr-1\" />\r\n              <span className=\"text-sm text-surface-700 dark:text-surface-300\">\r\n                {course.instructor ? \r\n                 `${course.instructor.first_name} ${course.instructor.last_name}` : \r\n                 'Instructor'}\r\n              </span>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <CalendarIcon className=\"h-5 w-5 text-surface-500 dark:text-surface-400 mr-1\" />\r\n              <span className=\"text-sm text-surface-700 dark:text-surface-300\">\r\n                Updated {new Date(course.updated_at).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          {course.cover_image_url && (\r\n            <div className=\"mb-6 rounded-lg overflow-hidden shadow-md dark:shadow-dark-md\">\r\n              <img\r\n                src={course.cover_image_url}\r\n                alt={course.title}\r\n                className=\"w-full h-auto object-cover\"\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-xl font-bold text-surface-900 dark:text-white mb-4\">\r\n              About This Course\r\n            </h2>\r\n            <p className=\"text-surface-700 dark:text-surface-300 whitespace-pre-line\">\r\n              {course.description}\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Curriculum */}\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-xl font-bold text-surface-900 dark:text-white mb-4\">\r\n              Course Curriculum\r\n            </h2>\r\n            \r\n            {sections.length > 0 ? (\r\n              <div className=\"border border-surface-200 dark:border-surface-700 rounded-lg overflow-hidden divide-y divide-surface-200 dark:divide-surface-700\">\r\n                {sections.map((section) => (\r\n                  <div key={section.id} className=\"bg-white dark:bg-surface-800\">\r\n                    <div className=\"p-4 bg-surface-50 dark:bg-surface-850 font-medium text-surface-900 dark:text-white\">\r\n                      {section.title}\r\n                    </div>\r\n                    <div className=\"divide-y divide-surface-200 dark:divide-surface-700\">\r\n                      {/* Lessons would go here - simplified for now */}\r\n                      <div className=\"p-4 flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          {isEnrolled ? (\r\n                            <CheckCircleIcon className=\"h-5 w-5 text-success-500 dark:text-success-400 mr-2\" />\r\n                          ) : (\r\n                            <LockClosedIcon className=\"h-5 w-5 text-surface-400 dark:text-surface-500 mr-2\" />\r\n                          )}\r\n                          <span className=\"text-surface-700 dark:text-surface-300\">Introduction to the Course</span>\r\n                        </div>\r\n                        <span className=\"text-sm text-surface-500 dark:text-surface-400\">10 min</span>\r\n                      </div>\r\n                      <div className=\"p-4 flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          <BookOpenIcon className=\"h-5 w-5 text-primary-500 dark:text-primary-400 mr-2\" />\r\n                          <span className=\"text-surface-700 dark:text-surface-300\">Getting Started (Preview)</span>\r\n                        </div>\r\n                        <span className=\"text-sm text-surface-500 dark:text-surface-400\">15 min</span>\r\n                      </div>\r\n                      <div className=\"p-4 flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          {isEnrolled ? (\r\n                            <CheckCircleIcon className=\"h-5 w-5 text-success-500 dark:text-success-400 mr-2\" />\r\n                          ) : (\r\n                            <LockClosedIcon className=\"h-5 w-5 text-surface-400 dark:text-surface-500 mr-2\" />\r\n                          )}\r\n                          <span className=\"text-surface-700 dark:text-surface-300\">Core Concepts</span>\r\n                        </div>\r\n                        <span className=\"text-sm text-surface-500 dark:text-surface-400\">25 min</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-surface-600 dark:text-surface-400\">\r\n                This course doesn't have any sections yet.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Sidebar */}\r\n        <div className=\"lg:col-span-1\">\r\n          <div className=\"sticky top-24 card\">\r\n            <div className=\"mb-4\">\r\n              {course.price ? (\r\n                <div className=\"text-3xl font-bold text-surface-900 dark:text-white\">\r\n                  ${course.price}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-3xl font-bold text-success-600 dark:text-success-400\">\r\n                  Free\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {isEnrolled ? (\r\n              <Link\r\n                to={`/dashboard/courses/${course.id}`}\r\n                className=\"w-full mb-4 btn-filled\"\r\n              >\r\n                Continue Learning\r\n              </Link>\r\n            ) : isInstructor ? (\r\n              <Link\r\n                to={`/instructor/courses/${course.id}/edit`}\r\n                className=\"w-full mb-4 btn-filled\"\r\n              >\r\n                Edit Course\r\n              </Link>\r\n            ) : (\r\n              <button\r\n                onClick={handleEnroll}\r\n                disabled={enrolling}\r\n                className=\"w-full mb-4 btn-filled disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {enrolling ? 'Enrolling...' : 'Enroll Now'}\r\n              </button>\r\n            )}\r\n            \r\n            <ul className=\"space-y-4 text-surface-700 dark:text-surface-300\">\r\n              <li className=\"flex items-start\">\r\n                <AcademicCapIcon className=\"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\" />\r\n                <span>\r\n                  <strong className=\"font-medium\">Instructor:</strong> {' '}\r\n                  {course.instructor ? \r\n                   `${course.instructor.first_name} ${course.instructor.last_name}` : \r\n                   'Instructor'}\r\n                </span>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <ClockIcon className=\"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\" />\r\n                <span>\r\n                  <strong className=\"font-medium\">Duration:</strong> {' '}\r\n                  {course.duration_weeks \r\n                    ? `${course.duration_weeks} weeks` \r\n                    : 'Self-paced'}\r\n                </span>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <BookOpenIcon className=\"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\" />\r\n                <span>\r\n                  <strong className=\"font-medium\">Lessons:</strong> {' '}\r\n                  12 lessons\r\n                </span>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <CheckCircleIcon className=\"h-6 w-6 text-primary-500 dark:text-primary-400 mr-2 flex-shrink-0\" />\r\n                <span>\r\n                  <strong className=\"font-medium\">Level:</strong> {' '}\r\n                  {course.difficulty_level.charAt(0).toUpperCase() + course.difficulty_level.slice(1)}\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}